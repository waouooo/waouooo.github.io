<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.111.3"><meta name=generator content="Relearn 5.10.2+tip"><meta name=description content="一个很哇塞的博客"><meta name=author content="waouooo"><title>快速建站 :: waouooo</title><link href=https://waouooo.github.io/kuai-su-jian-zhan-202856/index.html rel=canonical type=text/html title="快速建站 :: waouooo"><link href=../kuai-su-jian-zhan-202856/index.xml rel=alternate type=application/rss+xml title="快速建站 :: waouooo"><link href=../images/favicon.png?1678961847 rel=icon type=image/png><link href=../css/fontawesome-all.min.css?1678961847 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=../css/fontawesome-all.min.css?1678961847 rel=stylesheet></noscript><link href=../css/auto-complete.css?1678961847 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=../css/auto-complete.css?1678961847 rel=stylesheet></noscript><link href=../css/perfect-scrollbar.min.css?1678961847 rel=stylesheet><link href=../css/nucleus.css?1678961847 rel=stylesheet><link href=../css/fonts.css?1678961847 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=../css/fonts.css?1678961847 rel=stylesheet></noscript><link href=../css/theme.css?1678961847 rel=stylesheet><link href=../css/theme-relearn-light.css?1678961847 rel=stylesheet id=variant-style><link href=../css/ie.css?1678961847 rel=stylesheet><link href=../css/variant.css?1678961847 rel=stylesheet><link href=../css/print.css?1678961847 rel=stylesheet media=print><link href=../css/format-print.css?1678961847 rel=stylesheet><script src=../js/url.js?1678961847></script>
<script src=../js/variant.js?1678961847></script>
<script>window.index_js_url="../index.search.js";var root_url="../",baseUriFull,baseUri=root_url.replace(/\/$/,"");window.T_Copy_to_clipboard="Copy to clipboard",window.T_Copied_to_clipboard="Copied to clipboard!",window.T_Copy_link_to_clipboard="Copy link to clipboard",window.T_Link_copied_to_clipboard="Copied link to clipboard!",window.T_No_results_found="No results found for \u0022{0}\u0022",window.T_N_results_found="{1} results found for \u0022{0}\u0022",baseUriFull="https://waouooo.github.io/",window.variants&&variants.init(["relearn-light","relearn-dark","learn","neon","blue","green","red"])</script><script src=../js/jquery.min.js?1678961847 defer></script></head><body class="mobile-support print disableInlineCopyToClipboard" data-url=../kuai-su-jian-zhan-202856/index.html><div id=body class=default-animation><div id=sidebar-overlay></div><div id=toc-overlay></div><nav id=topbar class=highlightable dir=ltr><div><div id=breadcrumbs><span id=sidebar-toggle-span><a href=# id=sidebar-toggle title='Menu (CTRL+ALT+n)'><i class="fas fa-bars fa-fw"></i></a></span><ol class=links itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=../index.html><span itemprop=name>waouooo</span></a><meta itemprop=position content="1">></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>快速建站</span><meta itemprop=position content="2"></li></ol></div></div></nav><main id=body-inner class="highlightable chapter narrow" tabindex=-1><div class=flex-block-wrapper><div id=head-tags></div><article class=chapter><div class=article-subheading>Chapter 0</div><h1 id=快速建站>快速建站</h1><h3 id=快速建站>快速建站</h3><p>使用Hugo + Github Pages + Giscus 进行个人博客站点搭建</p><footer class=footline><div><style>#comment{padding:8rem 0 2rem}#comment .vemoji{max-width:1.5em;max-height:1.5em}</style><div id=comment><script src=https://giscus.app/client.js data-repo=waouooo/discussions data-repo-id=R_kgDOI-EgHQ data-category=General data-category-id=DIC_kwDOI-EgHc4CUORS data-mapping=pathname data-strict=1 data-reactions-enabled=1 data-emit-metadata=1 data-input-position=top data-theme=preferred_color_scheme data-lang=zh-CN data-loading=lazy crossorigin=anonymous async></script></div><noscript>Please enable JavaScript to view the comments powered by giscus.</noscript></div></footer></article><section><h1 class=a11y-only>Subsections of 快速建站</h1><article class=default><h1 id=hugogithub-pages快速搭建个人博客一基础建站>Hugo+Github Pages快速搭建个人博客一：基础建站</h1><h3 id=需求创建一个个人博客>需求：创建一个个人博客</h3><p>对程序员来说个人博客是一个非常常见的东西，可以在上面记录自己的学习积累，同时也可以通过互联网分享给大家。个人博客建站的方式有很多，本文不做横向比较，本着白嫖与图方便并兼顾可用性强的角度，选择使用Hugo + Github Pages + Giscus 进行建站。</p><h3 id=工具简介>工具简介：</h3><h4 id=hugohttpsgohugoio><a href=https://gohugo.io/ target=_blank>Hugo</a>：</h4><blockquote><p>Hugo 是一个golang编写的静态网站生成器，可以从markdown格式生成。</p></blockquote><h4 id=github-pageshttpspagesgithubcom><a href=https://pages.github.com/ target=_blank>Github Pages</a></h4><blockquote><p>Github Pages 是Github提供的静态站点托管服务，可以通过仓库（repository）的形式托管静态网站，同类型的还有国内的Gitee Pages</p></blockquote><h4 id=giscushttpsgiscusappzh-cn><a href=https://giscus.app/zh-CN target=_blank>Giscus</a></h4><blockquote><p>Giscus 是一个站点评论系统，基于Github的Discussions功能</p></blockquote><h3 id=创建github-pages>创建Github Pages</h3><ol><li>登录github 创建一个&lt;username>.github.io的仓库
<a href=#0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230128224108-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230128224108.png alt=创建仓库 style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230128224108-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230128224108.png alt=创建仓库 loading=lazy></a></li><li>使用&lt;username>.github.io  作为存储库名称。 将 <code>username</code> 替换为你的 GitHub 用户名。 例如，如果用户名为 <code>waouooo</code>，则存储库名称应为 <code>waouooo.github.io</code>。
<a href=#0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230128225645-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230128225645.png alt style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230128225645-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230128225645.png alt loading=lazy></a>
（ps: 为了保证Github Pages 的可见性，普通用户需要将仓库设置为public，若想使用private，也可以氪金）</li><li>点击Settings配置Github Pages
<a href=#0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230128225035-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230128225035.png alt style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230128225035-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230128225035.png alt loading=lazy></a></li><li>查看Github Pages 配置
<a href=#0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230128230001-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230128230001.png alt style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230128230001-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230128230001.png alt loading=lazy></a></li><li>返回仓库主页查看部署状态：若出现绿色的勾勾✅则表示部署完成，可以通过访问<a href=https://waouooo.github.io/ target=_blank>https://waouooo.github.io</a> 来查看，若是其他标志，也可以点击查看具体的工作流流程。
<a href=#0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230128230205-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230128230205.png alt style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230128230205-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230128230205.png alt loading=lazy></a></li></ol><h3 id=使用hugo-初始化站点>使用Hugo 初始化站点</h3><ol><li>macOS安装hugo， 其他操作系统安装方式可以参考<a href=https://gohugo.io/installation/ target=_blank>官方文档</a></li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>brew install hugo
</span></span></code></pre></div><ol start=2><li>安装完成后查看当前安装的版本</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>hugo version
</span></span><span class=line><span class=cl><span class=c1># 输出: hugo v0.105.0+extended darwin/amd64 BuildDate=unknown</span>
</span></span></code></pre></div><ol start=3><li>初始化站点</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>hugo new site waouooo
</span></span><span class=line><span class=cl>Congratulations! Your new Hugo site is created in /Users/waouooo/Workspace/waouooo.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Just a few more steps and you<span class=err>&#39;</span>re ready to go:
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>1. Download a theme into the same-named folder.
</span></span><span class=line><span class=cl>   Choose a theme from https://themes.gohugo.io/ or
</span></span><span class=line><span class=cl>   create your own with the <span class=s2>&#34;hugo new theme &lt;THEMENAME&gt;&#34;</span> command.
</span></span><span class=line><span class=cl>2. Perhaps you want to add some content. You can add single files
</span></span><span class=line><span class=cl>   with <span class=s2>&#34;hugo new &lt;SECTIONNAME&gt;/&lt;FILENAME&gt;.&lt;FORMAT&gt;&#34;</span>.
</span></span><span class=line><span class=cl>3. Start the built-in live server via <span class=s2>&#34;hugo server&#34;</span>.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Visit https://gohugo.io/ <span class=k>for</span> quickstart guide and full documentation.
</span></span></code></pre></div><ol start=4><li>进入站点目录并以git submodule模式添加主题，本站点使用主题为hugo-theme-relearn(<a href=https://mcshelby.github.io/hugo-theme-relearn/index.html target=_blank>官方文档</a>), 其他主题可进入<a href=https://themes.gohugo.io/ target=_blank>官网主题</a> 选择</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=nb>cd</span> waouooo
</span></span><span class=line><span class=cl><span class=c1># 使用git 初始化仓库</span>
</span></span><span class=line><span class=cl>git init
</span></span><span class=line><span class=cl><span class=c1># 输出: 已初始化空的 Git 仓库于 /Users/zhou/Workspace/waouooo/waouooo/.git/</span>
</span></span><span class=line><span class=cl>git submodule add https://github.com/McShelby/hugo-theme-relearn.git themes/hugo-theme-relearn
</span></span></code></pre></div><ol start=5><li>从主题exampleSite目录中拷贝配置</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>cp themes/hugo-theme-relearn/exampleSite/config.toml .
</span></span></code></pre></div><ol start=6><li>修改配置文件baseURL与：themesdir</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-toml data-lang=toml><span class=line><span class=cl><span class=c># this is a required setting for this theme to appear on https://themes.gohugo.io/</span>
</span></span><span class=line><span class=cl><span class=c># change this to a value appropriate for you; if your site is served from a subdirectory</span>
</span></span><span class=line><span class=cl><span class=c># set it like &#34;https://example.com/mysite/&#34;</span>
</span></span><span class=line><span class=cl><span class=c># 修改此处✅</span>
</span></span><span class=line><span class=cl><span class=nx>baseURL</span> <span class=p>=</span> <span class=s2>&#34;https://waouooo.github.io/&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c># canonicalization will only be used for the sitemap.xml and index.xml files;</span>
</span></span><span class=line><span class=cl><span class=c># if set to false, a site served from a subdirectory will generate wrong links</span>
</span></span><span class=line><span class=cl><span class=c># inside of the above mentioned files; if you serve the page from the servers root</span>
</span></span><span class=line><span class=cl><span class=c># you are free to set the value to false as recommended by the official Hugo documentation</span>
</span></span><span class=line><span class=cl><span class=nx>canonifyURLs</span> <span class=p>=</span> <span class=kc>true</span> <span class=c># true -&gt; all relative URLs would instead be canonicalized using baseURL</span>
</span></span><span class=line><span class=cl><span class=c># required value to serve this page from a webserver AND the file system;</span>
</span></span><span class=line><span class=cl><span class=c># if you don&#39;t want to serve your page from the file system, you can also set this value</span>
</span></span><span class=line><span class=cl><span class=c># to false</span>
</span></span><span class=line><span class=cl><span class=nx>relativeURLs</span> <span class=p>=</span> <span class=kc>true</span> <span class=c># true -&gt; rewrite all relative URLs to be relative to the current content</span>
</span></span><span class=line><span class=cl><span class=c># if you set uglyURLs to false, this theme will append &#39;index.html&#39; to any branch bundle link</span>
</span></span><span class=line><span class=cl><span class=c># so your page can be also served from the file system; if you don&#39;t want that,</span>
</span></span><span class=line><span class=cl><span class=c># set disableExplicitIndexURLs=true in the [params] section</span>
</span></span><span class=line><span class=cl><span class=nx>uglyURLs</span> <span class=p>=</span> <span class=kc>false</span>     <span class=c># true -&gt; basic/index.html -&gt; basic.html</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c># the directory where Hugo reads the themes from; this is specific to your</span>
</span></span><span class=line><span class=cl><span class=c># installation and most certainly needs be deleted or changed</span>
</span></span><span class=line><span class=cl><span class=c># 修改此处✅</span>
</span></span><span class=line><span class=cl><span class=nx>themesdir</span> <span class=p>=</span> <span class=s2>&#34;./themes&#34;</span>
</span></span><span class=line><span class=cl><span class=c># yeah, well, obviously a mandatory setting for your site, if you want to</span>
</span></span><span class=line><span class=cl><span class=c># use this theme ;-)</span>
</span></span><span class=line><span class=cl><span class=nx>theme</span> <span class=p>=</span> <span class=s2>&#34;hugo-theme-relearn&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c># the main language of this site; also an automatic pirrrate translation is</span>
</span></span><span class=line><span class=cl><span class=c># available in this showcase</span>
</span></span><span class=line><span class=cl><span class=nx>languageCode</span> <span class=p>=</span> <span class=s2>&#34;en&#34;</span>
</span></span><span class=line><span class=cl><span class=c># make sure your defaultContentLanguage is the first one in the [Languages]</span>
</span></span><span class=line><span class=cl><span class=c># array below, as the theme needs to make assumptions on it</span>
</span></span><span class=line><span class=cl><span class=nx>defaultContentLanguage</span> <span class=p>=</span> <span class=s2>&#34;en&#34;</span>
</span></span><span class=line><span class=cl><span class=c># if you want to get rrrid o&#39; ourrr pirrrates nonsense uncomment th&#39; next line</span>
</span></span><span class=line><span class=cl><span class=c># disableLanguages = [&#39;pir&#39;]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c># the site&#39;s title of this showcase; you should change this ;-)</span>
</span></span><span class=line><span class=cl><span class=nx>title</span> <span class=p>=</span> <span class=s2>&#34;Hugo Relearn Documentation&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c># We disable this for testing the exampleSite; you must do so too</span>
</span></span><span class=line><span class=cl><span class=c># if you want to use the themes parameter disableGeneratorVersion=true;</span>
</span></span><span class=line><span class=cl><span class=c># otherwise Hugo will create a generator tag on your home page</span>
</span></span><span class=line><span class=cl><span class=nx>disableHugoGeneratorInject</span> <span class=p>=</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>outputs</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=c># add JSON to the home to support lunr search; This is a mandatory setting</span>
</span></span><span class=line><span class=cl>  <span class=c># for the search functionality</span>
</span></span><span class=line><span class=cl>  <span class=c># add PRINT to home, section and page to activate the feature to print whole</span>
</span></span><span class=line><span class=cl>  <span class=c># chapters</span>
</span></span><span class=line><span class=cl>  <span class=nx>home</span> <span class=p>=</span> <span class=p>[</span><span class=s2>&#34;HTML&#34;</span><span class=p>,</span> <span class=s2>&#34;RSS&#34;</span><span class=p>,</span> <span class=s2>&#34;PRINT&#34;</span><span class=p>,</span> <span class=s2>&#34;SEARCH&#34;</span><span class=p>,</span> <span class=s2>&#34;SEARCHPAGE&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=nx>section</span> <span class=p>=</span> <span class=p>[</span><span class=s2>&#34;HTML&#34;</span><span class=p>,</span> <span class=s2>&#34;RSS&#34;</span><span class=p>,</span> <span class=s2>&#34;PRINT&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=nx>page</span> <span class=p>=</span> <span class=p>[</span><span class=s2>&#34;HTML&#34;</span><span class=p>,</span> <span class=s2>&#34;RSS&#34;</span><span class=p>,</span> <span class=s2>&#34;PRINT&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>markup</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=nx>markup</span><span class=p>.</span><span class=nx>highlight</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=c># if `guessSyntax = true`, there will be no unstyled code even if no language</span>
</span></span><span class=line><span class=cl>    <span class=c># was given BUT Mermaid and Math codefences will not work anymore! So this is a</span>
</span></span><span class=line><span class=cl>    <span class=c># mandatory setting for your site if you want to use Mermaid or Math codefences</span>
</span></span><span class=line><span class=cl>    <span class=nx>guessSyntax</span> <span class=p>=</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c># here in this showcase we use our own modified chroma syntax highlightning style</span>
</span></span><span class=line><span class=cl>    <span class=c># which is imported in theme-relearn-light.css / theme-relearn-dark.css;</span>
</span></span><span class=line><span class=cl>    <span class=c># if you want to use a predefined style instead:</span>
</span></span><span class=line><span class=cl>    <span class=c># - remove the following `noClasses`</span>
</span></span><span class=line><span class=cl>    <span class=c># - set the following `style` to a predefined style name</span>
</span></span><span class=line><span class=cl>    <span class=c># - remove the `@import` of the self-defined chroma stylesheet from your CSS files</span>
</span></span><span class=line><span class=cl>    <span class=c>#   (here eg.: theme-relearn-light.css / theme-relearn-dark.css)</span>
</span></span><span class=line><span class=cl>    <span class=nx>noClasses</span> <span class=p>=</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl>    <span class=c># style = &#34;tango&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=nx>markup</span><span class=p>.</span><span class=nx>goldmark</span><span class=p>.</span><span class=nx>renderer</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=c># activated for this showcase to use HTML and JavaScript; decide on your own needs;</span>
</span></span><span class=line><span class=cl>    <span class=c># if in doubt, remove this line</span>
</span></span><span class=line><span class=cl>    <span class=nx>unsafe</span> <span class=p>=</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c># allows `hugo server` to display this showcase in IE11; this is used for testing, as we</span>
</span></span><span class=line><span class=cl><span class=c># are still supporting IE11 - although with degraded experience; if you don&#39;t care about</span>
</span></span><span class=line><span class=cl><span class=c># `hugo server` or browsers of ancient times, fell free to remove this whole block</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>server</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=p>[[</span><span class=nx>server</span><span class=p>.</span><span class=nx>headers</span><span class=p>]]</span>
</span></span><span class=line><span class=cl>    <span class=nx>for</span> <span class=p>=</span> <span class=s2>&#34;**.html&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>[</span><span class=nx>server</span><span class=p>.</span><span class=nx>headers</span><span class=p>.</span><span class=nx>values</span><span class=p>]</span>
</span></span><span class=line><span class=cl>       <span class=nx>X-UA-Compatible</span> <span class=p>=</span> <span class=s2>&#34;IE=edge&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c># showcase of the menu shortcuts; you can use relative URLs linking</span>
</span></span><span class=line><span class=cl><span class=c># to your content or use fully-quallified URLs to link outside of</span>
</span></span><span class=line><span class=cl><span class=c># your project</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>Languages</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=nx>Languages</span><span class=p>.</span><span class=nx>en</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=nx>title</span> <span class=p>=</span> <span class=s2>&#34;Hugo Relearn Theme&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>weight</span> <span class=p>=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>    <span class=nx>languageName</span> <span class=p>=</span> <span class=s2>&#34;English&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>landingPageName</span> <span class=p>=</span> <span class=s2>&#34;&lt;i class=&#39;fas fa-home&#39;&gt;&lt;/i&gt; Home&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>[[</span><span class=nx>Languages</span><span class=p>.</span><span class=nx>en</span><span class=p>.</span><span class=nx>menu</span><span class=p>.</span><span class=nx>shortcuts</span><span class=p>]]</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span> <span class=p>=</span> <span class=s2>&#34;&lt;i class=&#39;fab fa-fw fa-github&#39;&gt;&lt;/i&gt; GitHub repo&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>identifier</span> <span class=p>=</span> <span class=s2>&#34;ds&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>url</span> <span class=p>=</span> <span class=s2>&#34;https://github.com/McShelby/hugo-theme-relearn&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>weight</span> <span class=p>=</span> <span class=mi>10</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>[[</span><span class=nx>Languages</span><span class=p>.</span><span class=nx>en</span><span class=p>.</span><span class=nx>menu</span><span class=p>.</span><span class=nx>shortcuts</span><span class=p>]]</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span> <span class=p>=</span> <span class=s2>&#34;&lt;i class=&#39;fas fa-fw fa-camera&#39;&gt;&lt;/i&gt; Showcases&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>url</span> <span class=p>=</span> <span class=s2>&#34;more/showcase/&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>weight</span> <span class=p>=</span> <span class=mi>11</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>[[</span><span class=nx>Languages</span><span class=p>.</span><span class=nx>en</span><span class=p>.</span><span class=nx>menu</span><span class=p>.</span><span class=nx>shortcuts</span><span class=p>]]</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span> <span class=p>=</span> <span class=s2>&#34;&lt;i class=&#39;fas fa-fw fa-bookmark&#39;&gt;&lt;/i&gt; Hugo Documentation&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>identifier</span> <span class=p>=</span> <span class=s2>&#34;hugodoc&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>url</span> <span class=p>=</span> <span class=s2>&#34;https://gohugo.io/&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>weight</span> <span class=p>=</span> <span class=mi>20</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>[[</span><span class=nx>Languages</span><span class=p>.</span><span class=nx>en</span><span class=p>.</span><span class=nx>menu</span><span class=p>.</span><span class=nx>shortcuts</span><span class=p>]]</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span> <span class=p>=</span> <span class=s2>&#34;&lt;i class=&#39;fas fa-fw fa-bullhorn&#39;&gt;&lt;/i&gt; Credits&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>url</span> <span class=p>=</span> <span class=s2>&#34;more/credits/&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>weight</span> <span class=p>=</span> <span class=mi>30</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>[[</span><span class=nx>Languages</span><span class=p>.</span><span class=nx>en</span><span class=p>.</span><span class=nx>menu</span><span class=p>.</span><span class=nx>shortcuts</span><span class=p>]]</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span> <span class=p>=</span> <span class=s2>&#34;&lt;i class=&#39;fas fa-fw fa-tags&#39;&gt;&lt;/i&gt; Tags&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>url</span> <span class=p>=</span> <span class=s2>&#34;tags/&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>weight</span> <span class=p>=</span> <span class=mi>40</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c># this is ourrr way t&#39; showcase th&#39; multilang settings by</span>
</span></span><span class=line><span class=cl>  <span class=c># doing autotrrranlat&#39;n of th&#39; english content; we are</span>
</span></span><span class=line><span class=cl>  <span class=c># lazy and don&#39;t supporrt furrrther trrranslations; arrr,</span>
</span></span><span class=line><span class=cl>  <span class=c># don&#39;t take it t&#39; serrrious, fello&#39;; it&#39;s prrretty hacky and:</span>
</span></span><span class=line><span class=cl>  <span class=c># NOT MEANT FER PRRRODUCTION! ARRR!</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=nx>Languages</span><span class=p>.</span><span class=nx>pir</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=nx>title</span> <span class=p>=</span> <span class=s2>&#34;Cap&#39;n Hugo Relearrrn Theme&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>weight</span> <span class=p>=</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl>    <span class=nx>languageName</span> <span class=p>=</span> <span class=s2>&#34;Arrr! ☠ Pirrrates ☠&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>landingPageName</span> <span class=p>=</span> <span class=s2>&#34;&lt;i class=&#39;fas fa-home&#39;&gt;&lt;/i&gt; Arrr! Home&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>[[</span><span class=nx>Languages</span><span class=p>.</span><span class=nx>pir</span><span class=p>.</span><span class=nx>menu</span><span class=p>.</span><span class=nx>shortcuts</span><span class=p>]]</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span> <span class=p>=</span> <span class=s2>&#34;&lt;i class=&#39;fab fa-fw fa-github&#39;&gt;&lt;/i&gt; GitHub repo&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>identifier</span> <span class=p>=</span> <span class=s2>&#34;ds&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>url</span> <span class=p>=</span> <span class=s2>&#34;https://github.com/McShelby/hugo-theme-relearn&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>weight</span> <span class=p>=</span> <span class=mi>10</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>[[</span><span class=nx>Languages</span><span class=p>.</span><span class=nx>pir</span><span class=p>.</span><span class=nx>menu</span><span class=p>.</span><span class=nx>shortcuts</span><span class=p>]]</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span> <span class=p>=</span> <span class=s2>&#34;&lt;i class=&#39;fas fa-fw fa-camera&#39;&gt;&lt;/i&gt; Showcases&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>url</span> <span class=p>=</span> <span class=s2>&#34;more/showcase/&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>weight</span> <span class=p>=</span> <span class=mi>11</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>[[</span><span class=nx>Languages</span><span class=p>.</span><span class=nx>pir</span><span class=p>.</span><span class=nx>menu</span><span class=p>.</span><span class=nx>shortcuts</span><span class=p>]]</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span> <span class=p>=</span> <span class=s2>&#34;&lt;i class=&#39;fas fa-fw fa-bookmark&#39;&gt;&lt;/i&gt; Cap&#39;n Hugo Documentat&#39;n&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>identifier</span> <span class=p>=</span> <span class=s2>&#34;hugodoc&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>url</span> <span class=p>=</span> <span class=s2>&#34;https://gohugo.io/&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>weight</span> <span class=p>=</span> <span class=mi>20</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>[[</span><span class=nx>Languages</span><span class=p>.</span><span class=nx>pir</span><span class=p>.</span><span class=nx>menu</span><span class=p>.</span><span class=nx>shortcuts</span><span class=p>]]</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span> <span class=p>=</span> <span class=s2>&#34;&lt;i class=&#39;fas fa-fw fa-bullhorn&#39;&gt;&lt;/i&gt; Crrredits&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>url</span> <span class=p>=</span> <span class=s2>&#34;more/credits/&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>weight</span> <span class=p>=</span> <span class=mi>30</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>[[</span><span class=nx>Languages</span><span class=p>.</span><span class=nx>pir</span><span class=p>.</span><span class=nx>menu</span><span class=p>.</span><span class=nx>shortcuts</span><span class=p>]]</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span> <span class=p>=</span> <span class=s2>&#34;&lt;i class=&#39;fas fa-fw fa-tags&#39;&gt;&lt;/i&gt; Arrr! Tags&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>url</span> <span class=p>=</span> <span class=s2>&#34;tags/&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nx>weight</span> <span class=p>=</span> <span class=mi>40</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c># mounts are only needed in this showcase to access the publicly available screenshots;</span>
</span></span><span class=line><span class=cl><span class=c># remove this section if you don&#39;t need further mounts</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>module</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=p>[[</span><span class=nx>module</span><span class=p>.</span><span class=nx>mounts</span><span class=p>]]</span>
</span></span><span class=line><span class=cl>    <span class=nx>source</span> <span class=p>=</span> <span class=s1>&#39;archetypes&#39;</span>
</span></span><span class=line><span class=cl>    <span class=nx>target</span> <span class=p>=</span> <span class=s1>&#39;archetypes&#39;</span>
</span></span><span class=line><span class=cl>  <span class=p>[[</span><span class=nx>module</span><span class=p>.</span><span class=nx>mounts</span><span class=p>]]</span>
</span></span><span class=line><span class=cl>    <span class=nx>source</span> <span class=p>=</span> <span class=s1>&#39;assets&#39;</span>
</span></span><span class=line><span class=cl>    <span class=nx>target</span> <span class=p>=</span> <span class=s1>&#39;assets&#39;</span>
</span></span><span class=line><span class=cl>  <span class=p>[[</span><span class=nx>module</span><span class=p>.</span><span class=nx>mounts</span><span class=p>]]</span>
</span></span><span class=line><span class=cl>    <span class=nx>source</span> <span class=p>=</span> <span class=s1>&#39;content&#39;</span>
</span></span><span class=line><span class=cl>    <span class=nx>target</span> <span class=p>=</span> <span class=s1>&#39;content&#39;</span>
</span></span><span class=line><span class=cl>  <span class=p>[[</span><span class=nx>module</span><span class=p>.</span><span class=nx>mounts</span><span class=p>]]</span>
</span></span><span class=line><span class=cl>    <span class=nx>source</span> <span class=p>=</span> <span class=s1>&#39;data&#39;</span>
</span></span><span class=line><span class=cl>    <span class=nx>target</span> <span class=p>=</span> <span class=s1>&#39;data&#39;</span>
</span></span><span class=line><span class=cl>  <span class=p>[[</span><span class=nx>module</span><span class=p>.</span><span class=nx>mounts</span><span class=p>]]</span>
</span></span><span class=line><span class=cl>    <span class=nx>source</span> <span class=p>=</span> <span class=s1>&#39;i18n&#39;</span>
</span></span><span class=line><span class=cl>    <span class=nx>target</span> <span class=p>=</span> <span class=s1>&#39;i18n&#39;</span>
</span></span><span class=line><span class=cl>  <span class=p>[[</span><span class=nx>module</span><span class=p>.</span><span class=nx>mounts</span><span class=p>]]</span>
</span></span><span class=line><span class=cl>    <span class=nx>source</span> <span class=p>=</span> <span class=s1>&#39;../images&#39;</span>
</span></span><span class=line><span class=cl>    <span class=nx>target</span> <span class=p>=</span> <span class=s1>&#39;content/images&#39;</span>
</span></span><span class=line><span class=cl>  <span class=p>[[</span><span class=nx>module</span><span class=p>.</span><span class=nx>mounts</span><span class=p>]]</span>
</span></span><span class=line><span class=cl>    <span class=nx>source</span> <span class=p>=</span> <span class=s1>&#39;layouts&#39;</span>
</span></span><span class=line><span class=cl>    <span class=nx>target</span> <span class=p>=</span> <span class=s1>&#39;layouts&#39;</span>
</span></span><span class=line><span class=cl>  <span class=p>[[</span><span class=nx>module</span><span class=p>.</span><span class=nx>mounts</span><span class=p>]]</span>
</span></span><span class=line><span class=cl>    <span class=nx>source</span> <span class=p>=</span> <span class=s1>&#39;static&#39;</span>
</span></span><span class=line><span class=cl>    <span class=nx>target</span> <span class=p>=</span> <span class=s1>&#39;static&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c># settings specific to this theme&#39;s features; choose to your likings and</span>
</span></span><span class=line><span class=cl><span class=c># consult this documentation for explaination</span>
</span></span><span class=line><span class=cl><span class=c># 修改此处✅ 按需修改</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>params</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=nx>editURL</span> <span class=p>=</span> <span class=s2>&#34;https://github.com/waouooo//edit/main/exampleSite/content/&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nx>description</span> <span class=p>=</span> <span class=s2>&#34;waouooo: 一个很哇塞的博客&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nx>author</span> <span class=p>=</span> <span class=s2>&#34;waouooo&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nx>showVisitedLinks</span> <span class=p>=</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl>  <span class=nx>collapsibleMenu</span> <span class=p>=</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl>  <span class=nx>disableBreadcrumb</span> <span class=p>=</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl>  <span class=nx>disableInlineCopyToClipBoard</span> <span class=p>=</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl>  <span class=nx>disableNextPrev</span> <span class=p>=</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl>  <span class=nx>disableLandingPageButton</span> <span class=p>=</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl>  <span class=nx>titleSeparator</span> <span class=p>=</span> <span class=s2>&#34;::&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nx>themeVariant</span> <span class=p>=</span> <span class=p>[</span> <span class=s2>&#34;relearn-light&#34;</span><span class=p>,</span> <span class=s2>&#34;relearn-dark&#34;</span><span class=p>,</span> <span class=s2>&#34;learn&#34;</span><span class=p>,</span> <span class=s2>&#34;neon&#34;</span><span class=p>,</span> <span class=s2>&#34;blue&#34;</span><span class=p>,</span> <span class=s2>&#34;green&#34;</span><span class=p>,</span> <span class=s2>&#34;red&#34;</span> <span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=nx>disableSeoHiddenPages</span> <span class=p>=</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl>  <span class=c># this is for the stylesheet generator to allow for interactivity in Mermaid</span>
</span></span><span class=line><span class=cl>  <span class=c># graphs; you usually will not need it and you should remove this for</span>
</span></span><span class=line><span class=cl>  <span class=c># security reasons</span>
</span></span><span class=line><span class=cl>  <span class=nx>mermaidInitialize</span> <span class=p>=</span> <span class=s2>&#34;{ \&#34;securityLevel\&#34;: \&#34;loose\&#34; }&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nx>additionalContentLanguage</span> <span class=p>=</span> <span class=p>[</span> <span class=s2>&#34;en&#34;</span> <span class=p>]</span>
</span></span></code></pre></div><ol start=7><li>添加主页文章内容
创建文章draft默认为true，修改为false可以展示出来</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>hugo new _index.md
</span></span><span class=line><span class=cl><span class=c1># 输出：Content &#34;/Users/waouooo/Workspace/waouooo/content/_index.md&#34; created</span>
</span></span><span class=line><span class=cl>vim /Users/waouooo/Workspace/waouooo/content/_index.md
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>---
</span></span><span class=line><span class=cl>title: <span class=s2>&#34;waouooo&#34;</span>
</span></span><span class=line><span class=cl>date: 2023-01-28T23:30:32+08:00
</span></span><span class=line><span class=cl>draft: <span class=nb>false</span>
</span></span><span class=line><span class=cl>---
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>### waouooo::一个很哇塞的博客</span>
</span></span></code></pre></div><ol start=8><li>启动博客并访问地址查看</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>hugo serve
</span></span><span class=line><span class=cl>port <span class=m>1313</span> already in use, attempting to use an available port
</span></span><span class=line><span class=cl>Start building sites …
</span></span><span class=line><span class=cl>hugo v0.105.0+extended darwin/amd64 <span class=nv>BuildDate</span><span class=o>=</span>unknown
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                   <span class=p>|</span> EN  <span class=p>|</span> PIR
</span></span><span class=line><span class=cl>-------------------+-----+------
</span></span><span class=line><span class=cl>  Pages            <span class=p>|</span>  <span class=m>10</span> <span class=p>|</span>  <span class=m>10</span>
</span></span><span class=line><span class=cl>  Paginator pages  <span class=p>|</span>   <span class=m>0</span> <span class=p>|</span>   <span class=m>0</span>
</span></span><span class=line><span class=cl>  Non-page files   <span class=p>|</span>   <span class=m>0</span> <span class=p>|</span>   <span class=m>0</span>
</span></span><span class=line><span class=cl>  Static files     <span class=p>|</span> <span class=m>191</span> <span class=p>|</span> <span class=m>191</span>
</span></span><span class=line><span class=cl>  Processed images <span class=p>|</span>   <span class=m>0</span> <span class=p>|</span>   <span class=m>0</span>
</span></span><span class=line><span class=cl>  Aliases          <span class=p>|</span>   <span class=m>1</span> <span class=p>|</span>   <span class=m>0</span>
</span></span><span class=line><span class=cl>  Sitemaps         <span class=p>|</span>   <span class=m>2</span> <span class=p>|</span>   <span class=m>1</span>
</span></span><span class=line><span class=cl>  Cleaned          <span class=p>|</span>   <span class=m>0</span> <span class=p>|</span>   <span class=m>0</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Built in <span class=m>177</span> ms
</span></span><span class=line><span class=cl>Watching <span class=k>for</span> changes in /Users/waouooo/Workspace/waouooo/<span class=o>{</span>archetypes,content,data,layouts,static,themes<span class=o>}</span>
</span></span><span class=line><span class=cl>Watching <span class=k>for</span> config changes in /Users/waouooo/Workspace/waouooo/config.toml, /Users/waouooo/Workspace/waouooo/themes/hugo-theme-relearn/config.toml
</span></span><span class=line><span class=cl>Environment: <span class=s2>&#34;development&#34;</span>
</span></span><span class=line><span class=cl>Serving pages from memory
</span></span><span class=line><span class=cl>Running in Fast Render Mode. For full rebuilds on change: hugo server --disableFastRender
</span></span><span class=line><span class=cl>Web Server is available at http://localhost:64363/ <span class=o>(</span><span class=nb>bind</span> address 127.0.0.1<span class=o>)</span>
</span></span><span class=line><span class=cl>Press Ctrl+C to stop
</span></span></code></pre></div><ol start=9><li>添加章节或者文章
详细内容可参考relearn<a href=https://mcshelby.github.io/hugo-theme-relearn/basics/installation/index.html#create-your-first-chapter-page target=_blank>官网配置</a></li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># 添加章节</span>
</span></span><span class=line><span class=cl>hugo new --kind chapter basics/_index.md
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 创建文章内容</span>
</span></span><span class=line><span class=cl>hugo new basics/first-content.md
</span></span><span class=line><span class=cl>hugo new basics/second-content/_index.md
</span></span></code></pre></div><ol start=10><li>以git submodule形式添加github pages托管的仓库, (使用ssh协议方便推送)</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>git submodule add git@github.com:waouooo/waouooo.github.io.git dist
</span></span></code></pre></div><ol start=11><li>生成静态文件
hugo 命令默认将静态文件生成至public目录当中，我们可以通过-d指定生成的目录</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>hugo -d dist
</span></span></code></pre></div><ol start=12><li>推送到github， 等待部署工作流执行完成查看页面</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=nb>cd</span> dist
</span></span><span class=line><span class=cl>git add .
</span></span><span class=line><span class=cl>git commit -m <span class=s2>&#34;add hugo static pages&#34;</span>
</span></span></code></pre></div><h3 id=参考链接>参考链接</h3><p><a href=https://docs.github.com/zh/pages/quickstart target=_blank>1. GitHub Pages 快速入门</a></p><p><a href=https://gohugo.io/getting-started/quick-start/ target=_blank>2. Hugo Quick Start</a></p><footer class=footline><div><style>#comment{padding:8rem 0 2rem}#comment .vemoji{max-width:1.5em;max-height:1.5em}</style><div id=comment><script src=https://giscus.app/client.js data-repo=waouooo/discussions data-repo-id=R_kgDOI-EgHQ data-category=General data-category-id=DIC_kwDOI-EgHc4CUORS data-mapping=pathname data-strict=1 data-reactions-enabled=1 data-emit-metadata=1 data-input-position=top data-theme=preferred_color_scheme data-lang=zh-CN data-loading=lazy crossorigin=anonymous async></script></div><noscript>Please enable JavaScript to view the comments powered by giscus.</noscript></div></footer></article><article class=default><h1 id=hugogithub-pages快速搭建个人博客二-添加giscus评论系统>Hugo+Github Pages快速搭建个人博客二: 添加giscus评论系统</h1><h2 id=hugo-theme-relearn-主题添加giscus评论系统>hugo-theme-relearn 主题添加giscus评论系统</h2><p>通过<a href=https://waouooo.github.io/kuai-su-jian-zhan-202856/step1/index.html target=_blank>上文</a>我们已经实现了博客最重要的发布与展示功能，而作为一个技术博客，如果有一个评论系统供读者进行交流是再好不过了。经过对各个评论系统的横向比较，最终选择的giscus作为评论系统的引擎，那么下面就开始将giscus添加至系统中。</p><h4 id=1-安装giscus>1. 安装giscus</h4><p>点击<a href=https://github.com/apps/giscus target=_blank>https://github.com/apps/giscus</a>访问github中的giscus app安装页面,点击install
<a href=#0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230129170422-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230129170422.png alt=安装giscus style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230129170422-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230129170422.png alt=安装giscus loading=lazy></a></p><p>选择指定仓库进行安装：
<a href=#0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230129170604-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230129170604.png alt style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230129170604-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230129170604.png alt loading=lazy></a></p><p>验证github账号密码
<a href=#0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230129170919-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230129170919.png alt style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230129170919-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230129170919.png alt loading=lazy></a></p><p><a href=#0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230129172114-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230129172114.png alt style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230129172114-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230129172114.png alt loading=lazy></a>
至此 waouooo.github.io仓库已安装上giscus</p><h4 id=2-打开github仓库的discussions功能>2. 打开Github仓库的Discussions功能</h4><h5 id=1-giscus是由github-discussionshttpsdocsgithubcomzhdiscussions驱动的评论系统因此需要在github上有仓库开启discussions功能对评论进行托管我们这里就直接选择博客站点仓库开启discussions>1) giscus是由 <a href=https://docs.github.com/zh/discussions target=_blank>GitHub Discussions</a> 驱动的评论系统，因此需要在github上有仓库开启Discussions功能对评论进行托管，我们这里就直接选择博客站点仓库开启Discussions:</h5><p><a href=#0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230129174008-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230129174008.png alt style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230129174008-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230129174008.png alt loading=lazy></a></p><h5 id=2-在settings的general栏往下拉找到features>2) 在settings的General栏往下拉，找到Features</h5><p><a href=#0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230129174402-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230129174402.png alt style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230129174402-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230129174402.png alt loading=lazy></a></p><h5 id=3-勾选上discussions>3) 勾选✅上Discussions</h5><p><a href=#0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230129174242-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230129174242.png alt style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230129174242-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230129174242.png alt loading=lazy></a></p><h5 id=4-创建一个discussions-这里选择general作为未来托管评论的category>4) <del>创建一个discussions， 这里选择General作为未来托管评论的category</del></h5><p><a href=#0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230129224749-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230129224749.png alt style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230129224749-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230129224749.png alt loading=lazy></a></p><p><a href=#0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230129225452-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230129225452.png alt style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230129225452-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230129225452.png alt loading=lazy></a></p><h5 id=5-通过giscus网站httpsgiscusappzh-cn生成配置>5) 通过<a href=https://giscus.app/zh-CN target=_blank>giscus网站</a>生成配置</h5><p><a href=#0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230206181818-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230206181818.png alt style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230206181818-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230206181818.png alt loading=lazy></a>
<a href=#0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230206182130-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230206182130.png alt style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230206182130-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230206182130.png alt loading=lazy></a>
<a href=#0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230206182228-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230206182228.png alt style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230206182228-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230206182228.png alt loading=lazy></a></p><h4 id=3-修改站点目录配置>3. 修改站点目录配置</h4><ol><li>在博客站点根目录中创建文件夹</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># 创建目录</span>
</span></span><span class=line><span class=cl>mkdir -pv layouts/partials
</span></span><span class=line><span class=cl>mkdir -pv layouts/_internal
</span></span></code></pre></div><ol start=2><li>拷贝主题项目中<code>layouts/partials</code>下的部分文件至占点根目录的<code>layout/partials</code>中，用于添加giscus评论系统的修改</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># 拷贝需要的文件</span>
</span></span><span class=line><span class=cl>cp themes/hugo-theme-relearn/layouts/partials/content-footer.html layouts/partials
</span></span><span class=line><span class=cl>cp themes/hugo-theme-relearn/layouts/partials/custom-comments.html layouts/partials
</span></span><span class=line><span class=cl>cp themes/hugo-theme-relearn/layouts/partials/footer.html layouts/partials
</span></span><span class=line><span class=cl>cp themes/hugo-theme-relearn/layouts/partials/menu-footer.html layouts/partials
</span></span></code></pre></div><ol start=3><li>创建giscus.html文件</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>touch layout/_internal/giscus.html
</span></span></code></pre></div><ol start=4><li>将以下内容拷贝至<code>layout/_internal/giscus.html</code></li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  {{ if site.Params.giscus }}
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>style</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>#</span><span class=nn>comment</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>padding</span><span class=p>:</span> <span class=mi>8</span><span class=kt>rem</span> <span class=mi>0</span> <span class=mi>2</span><span class=kt>rem</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>    <span class=p>#</span><span class=nn>comment</span> <span class=p>.</span><span class=nc>vemoji</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>max-width</span><span class=p>:</span> <span class=mf>1.5</span><span class=kt>em</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>max-height</span><span class=p>:</span> <span class=mf>1.5</span><span class=kt>em</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>style</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;comment&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=c>&lt;!-- 此处的配置可以直接拷贝2.5)通过giscus网站配置生成的script脚本，也可以将配置值抽取出来，参考下文的方式填入config.toml文件 --&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;https://giscus.app/client.js&#34;</span>
</span></span><span class=line><span class=cl>      <span class=na>data-repo</span><span class=o>=</span><span class=s>&#34;{{ .Site.Params.giscus.data_repo}}&#34;</span>
</span></span><span class=line><span class=cl>      <span class=na>data-repo-id</span><span class=o>=</span><span class=s>&#34;{{ .Site.Params.giscus.data_repo_id}}&#34;</span>
</span></span><span class=line><span class=cl>      <span class=na>data-category</span><span class=o>=</span><span class=s>&#34;{{ .Site.Params.giscus.data_category}}&#34;</span>
</span></span><span class=line><span class=cl>      <span class=na>data-category-id</span><span class=o>=</span><span class=s>&#34;{{ .Site.Params.giscus.data_category_id}}&#34;</span>
</span></span><span class=line><span class=cl>      <span class=na>data-mapping</span><span class=o>=</span><span class=s>&#34;{{ .Site.Params.giscus.data_mapping}}&#34;</span>
</span></span><span class=line><span class=cl>      <span class=na>data-reactions-enabled</span><span class=o>=</span><span class=s>&#34;{{ .Site.Params.giscus.data_reactions_enabled}}&#34;</span>
</span></span><span class=line><span class=cl>      <span class=na>data-emit-metadata</span><span class=o>=</span><span class=s>&#34;{{ .Site.Params.giscus.data_emit_metadata}}&#34;</span>
</span></span><span class=line><span class=cl>      <span class=na>data-input-position</span><span class=o>=</span><span class=s>&#34;{{ .Site.Params.giscus.data_input_position }}&#34;</span>
</span></span><span class=line><span class=cl>      <span class=na>data-theme</span><span class=o>=</span><span class=s>&#34;{{ .Site.Params.giscus.data_theme}}&#34;</span>
</span></span><span class=line><span class=cl>      <span class=na>data-lang</span><span class=o>=</span><span class=s>&#34;{{ .Site.Params.giscus.data_lang}}&#34;</span>
</span></span><span class=line><span class=cl>      <span class=na>crossorigin</span><span class=o>=</span><span class=s>&#34;{{ .Site.Params.giscus.crossorigin}}&#34;</span>
</span></span><span class=line><span class=cl>      <span class=na>data-term</span><span class=o>=</span><span class=s>&#34;{{ .Site.Params.giscus.data_term }}&#34;</span>
</span></span><span class=line><span class=cl>      <span class=na>async</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>noscript</span><span class=p>&gt;</span>Please enable JavaScript to view the comments powered by giscus.<span class=p>&lt;/</span><span class=nt>noscript</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  {{ end }}
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span></code></pre></div><ol start=5><li>修改<code>layouts/partials/custom-comments.html</code>文件，引入上面修改的giscus.html</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=c>&lt;!-- import your comments system
</span></span></span><span class=line><span class=cl><span class=c>{{ template &#34;_internal/disqus.html&#34; . }}
</span></span></span><span class=line><span class=cl><span class=c>--&gt;</span>
</span></span><span class=line><span class=cl>{{ template &#34;_internal/giscus.html&#34; . }}
</span></span></code></pre></div><ol start=6><li>删除<code>layouts/partials/footer.html</code>中 <code>{{- partial "custom-comments.html" . }}</code> （第3行左右）</li><li>在<code>layouts/partials/content-footer.html</code>最后追加<code>{{- partial "custom-comments.html" . }}</code></li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl>{{- with .Params.LastModifierDisplayName }}
</span></span><span class=line><span class=cl>            <span class=p>&lt;</span><span class=nt>i</span> <span class=na>class</span><span class=o>=</span><span class=s>&#39;fas fa-user&#39;</span><span class=p>&gt;&lt;/</span><span class=nt>i</span><span class=p>&gt;</span> {{ with $.Params.LastModifierEmail }}<span class=p>&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;mailto:{{ . }}&#34;</span><span class=p>&gt;</span>{{ end }}{{ . }}{{ with $.Params.LastModifierEmail }}<span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;</span>{{ end }}
</span></span><span class=line><span class=cl>  {{- with $.Date }}
</span></span><span class=line><span class=cl>            <span class=p>&lt;</span><span class=nt>i</span> <span class=na>class</span><span class=o>=</span><span class=s>&#39;fas fa-calendar&#39;</span><span class=p>&gt;&lt;/</span><span class=nt>i</span><span class=p>&gt;</span> {{ . | time.Format &#34;:date_medium&#34; }}
</span></span><span class=line><span class=cl>  {{- end }}
</span></span><span class=line><span class=cl>{{- end }}
</span></span><span class=line><span class=cl>{{- partial &#34;custom-comments.html&#34; . }}
</span></span></code></pre></div><ol start=8><li>自定义<code>layouts/partials/menu-footer.html</code>中的内容，也可不修改</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl>	<span class=p>&lt;</span><span class=nt>style</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>		<span class=p>#</span><span class=nn>footer</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		  <span class=k>font-size</span><span class=p>:</span> <span class=mi>13</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>		  <span class=k>height</span><span class=p>:</span> <span class=mi>100</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>		  <span class=k>margin-left</span><span class=p>:</span> <span class=kc>auto</span><span class=p>;</span>
</span></span><span class=line><span class=cl>		  <span class=k>margin-right</span><span class=p>:</span> <span class=kc>auto</span><span class=p>;</span>
</span></span><span class=line><span class=cl>		  <span class=k>padding</span><span class=p>:</span> <span class=mi>2</span><span class=kt>rem</span> <span class=mi>1</span><span class=kt>rem</span><span class=p>;</span>
</span></span><span class=line><span class=cl>		  <span class=k>text-align</span><span class=p>:</span> <span class=kc>center</span><span class=p>;</span>
</span></span><span class=line><span class=cl>		  <span class=k>min-width</span><span class=p>:</span> <span class=mi>230</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>		  <span class=k>max-width</span><span class=p>:</span> <span class=mi>300</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl>		<span class=p>#</span><span class=nn>footer</span> <span class=nt>p</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		  <span class=k>margin</span><span class=p>:</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl>	  <span class=p>&lt;/</span><span class=nt>style</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>	  <span class=p>&lt;</span><span class=nt>p</span><span class=p>&gt;</span>Built with <span class=p>&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;https://github.com/McShelby/hugo-theme-relearn&#34;</span> <span class=na>title</span><span class=o>=</span><span class=s>&#34;love&#34;</span><span class=p>&gt;&lt;</span><span class=nt>i</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;fas fa-heart&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>i</span><span class=p>&gt;&lt;/</span><span class=nt>a</span><span class=p>&gt;</span> by <span class=p>&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;https://gohugo.io/&#34;</span><span class=p>&gt;</span>Hugo<span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;&lt;/</span><span class=nt>p</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>	  <span class=p>&lt;</span><span class=nt>script</span> <span class=na>async</span><span class=o>=</span><span class=s>&#34;&#34;</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;../../js/buttons.js?1674688248&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>   
</span></span></code></pre></div><h4 id=4-修改configtoml文件>4. 修改config.toml文件</h4><ol><li>若<code>layout/_internal/giscus.html</code>文件中giscus的script脚本参数通过配置提取，则添加以下giscus配置至config.toml 中, <code>data_repo</code>, <code>data_repo_id</code>, <code>data_category</code> <code>data_category_id</code> 这四个参数为上文中开启discussions仓库的数据, <code>data_category</code>使用上文的General。其中的值与<a href=https://waouooo.github.io/kuai-su-jian-zhan-202856/step2/index.html#5-%E9%80%9A%E8%BF%87giscus%E7%BD%91%E7%AB%99httpsgiscusappzh-cn%E7%94%9F%E6%88%90%E9%85%8D%E7%BD%AE target=_blank>上文</a>giscus官网配置得到的值一致</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-toml data-lang=toml><span class=line><span class=cl><span class=p>[</span><span class=nx>params</span><span class=p>.</span><span class=nx>giscus</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=nx>data_repo</span><span class=p>=</span><span class=s2>&#34;waouooo/waouooo.github.io&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nx>data_repo_id</span><span class=p>=</span><span class=s2>&#34;*****&#34;</span>    
</span></span><span class=line><span class=cl>  <span class=nx>data_category</span><span class=p>=</span><span class=s2>&#34;General&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nx>data_category_id</span><span class=p>=</span><span class=s2>&#34;*****&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nx>data_mapping</span><span class=p>=</span><span class=s2>&#34;pathname&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nx>data_reactions_enabled</span><span class=p>=</span><span class=s2>&#34;1&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nx>data_emit_metadata</span><span class=p>=</span><span class=s2>&#34;0&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nx>data_theme</span><span class=p>=</span><span class=s2>&#34;dark&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nx>data_lang</span><span class=p>=</span><span class=s2>&#34;zh-CN&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nx>data_input_position</span><span class=p>=</span><span class=s2>&#34;top&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nx>data_term</span><span class=p>=</span><span class=s2>&#34;1046&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nx>crossorigin</span><span class=p>=</span><span class=s2>&#34;anonymous&#34;</span>
</span></span></code></pre></div><ol start=2><li><del>通过<a href=https://docs.github.com/en/graphql/overview/explorer target=_blank>GitHub GraphQL API</a> 查询repo_id 和category_id 的内容</del></li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=err>resource(url:</span> <span class=nt>&#34;https://github.com/waouooo/waouooo.github.io&#34;</span><span class=err>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=err>...</span> <span class=err>on</span> <span class=err>Repository</span> <span class=err>{</span>
</span></span><span class=line><span class=cl>      <span class=err>id</span>
</span></span><span class=line><span class=cl>      <span class=err>name</span>
</span></span><span class=line><span class=cl>      <span class=err>discussion(number:</span> <span class=err>1)</span> <span class=err>{</span>
</span></span><span class=line><span class=cl>        <span class=err>category</span> <span class=err>{</span>
</span></span><span class=line><span class=cl>          <span class=err>id</span>
</span></span><span class=line><span class=cl>          <span class=err>name</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=err>}</span>
</span></span><span class=line><span class=cl>  <span class=err>}</span>
</span></span><span class=line><span class=cl><span class=err>}</span>
</span></span></code></pre></div><p><a href=#0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230129225750-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230129225750.png alt style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230129225750-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230129225750.png alt loading=lazy></a></p><ol start=3><li><del>将查询到的结果回填至config.toml文件的**** 中</del></li></ol><h4 id=5-重新生成静态页面上传至仓库中>5. 重新生成静态页面，上传至仓库中</h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>hugo -d dist
</span></span><span class=line><span class=cl><span class=nb>cd</span> dist
</span></span><span class=line><span class=cl>git add .
</span></span><span class=line><span class=cl>git commit -m <span class=s2>&#34;add giscus&#34;</span>
</span></span><span class=line><span class=cl>git push
</span></span></code></pre></div><p>上传成功后等待编译部署完即可查看页面是否成功添加了giscus评论系统了</p><h3 id=参考链接>参考链接</h3><p><a href=https://zhauniarovich.com/post/2021/2021-06-giscus/ target=_blank>Giscus: The New Commenting Engine for My Website</a></p><p><a href=https://xwi88.com/hugo-plugin-giscus-support/ target=_blank>Hugo Plugin Giscus Support</a></p><footer class=footline><div><style>#comment{padding:8rem 0 2rem}#comment .vemoji{max-width:1.5em;max-height:1.5em}</style><div id=comment><script src=https://giscus.app/client.js data-repo=waouooo/discussions data-repo-id=R_kgDOI-EgHQ data-category=General data-category-id=DIC_kwDOI-EgHc4CUORS data-mapping=pathname data-strict=1 data-reactions-enabled=1 data-emit-metadata=1 data-input-position=top data-theme=preferred_color_scheme data-lang=zh-CN data-loading=lazy crossorigin=anonymous async></script></div><noscript>Please enable JavaScript to view the comments powered by giscus.</noscript></div></footer></article><article class=default><h1 id=hugogithub-pages快速搭建个人博客三github-actions自动部署>Hugo+Github Pages快速搭建个人博客三：Github Actions自动部署</h1><h3 id=前言>前言</h3><p>通过之前的文章，我们已经把博客站点部署完成，并且添加了giscus评论系统，但是每次发布文章都需要手动执行<code>hugo</code>命令生成站点静态文件，并把文件推送到仓库当中等待部署才能发布。为了简化我们的发布流程，本文将介绍使用Github Actions 来自动构建hugo静态文件，并推送至启用github pages的仓库当中。</p><h4 id=1-创建站点文章仓库>1. 创建站点文章仓库</h4><p>在第一篇中我们只在github上创建了waouooo.github.io仓库，用于保存站点的静态文件，并开启Github Pages。但是我们在使用<code>hugo new site waouooo</code>创建站点文件夹时也对站点文件夹做了git init 操作，因此我们也可以将站点的内容保存至github中。<a href=https://github.com/new target=_blank>点此创建</a></p><p><a href=#0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230208173757-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230208173757.png alt style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230208173757-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230208173757.png alt loading=lazy></a></p><h4 id=2-关联远程仓库至本地hugo-站点元数据git仓库并推送>2. 关联远程仓库至本地hugo 站点元数据git仓库，并推送</h4><p>仓库创建完成之后github页面会展示以下内容：
<a href=#0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230208174949-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230208174949.png alt style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230208174949-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230208174949.png alt loading=lazy></a>
因为我们本地已经有仓库，只需要执行以下内容即可：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git remote add origin git@github.com:waouooo/myblog.git
</span></span><span class=line><span class=cl>git push -u origin master
</span></span></code></pre></div><h4 id=3-生成sshkey-用于github-actions推送hugo生成的静态文件至托管仓库>3. 生成sshkey 用于Github Actions推送hugo生成的静态文件至托管仓库</h4><p>-C 参数指定github用户的邮箱</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>ssh-keygen -t rsa -C waouooo@163.com
</span></span><span class=line><span class=cl><span class=c1># 以下内容为输出</span>
</span></span><span class=line><span class=cl>Generating public/private rsa key pair.
</span></span><span class=line><span class=cl><span class=c1># 此处输入保存新ssh key的文件路径,不要回车，否则使用默认文件名，会被覆盖。其他地方可一路回车</span>
</span></span><span class=line><span class=cl>Enter file in which to save the key <span class=o>(</span>/Users/waouooo/.ssh/id_rsa<span class=o>)</span>: id_rsa_deploy_key
</span></span><span class=line><span class=cl>Enter passphrase <span class=o>(</span>empty <span class=k>for</span> no passphrase<span class=o>)</span>:
</span></span><span class=line><span class=cl>Enter same passphrase again:
</span></span><span class=line><span class=cl>Your identification has been saved in id_rsa_deploy_key
</span></span><span class=line><span class=cl>Your public key has been saved in id_rsa_deploy_key.pub
</span></span><span class=line><span class=cl>The key fingerprint is:
</span></span><span class=line><span class=cl>SHA256:iKKuSQt+jFiZc3UbeSDY………………tYrvgO+FRI7tSE waouooo@163.com
</span></span><span class=line><span class=cl>The key<span class=err>&#39;</span>s randomart image is:
</span></span><span class=line><span class=cl>+---<span class=o>[</span>RSA 3072<span class=o>]</span>----+
</span></span><span class=line><span class=cl><span class=p>|</span>     o           <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span>    . o .        <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span>     + . oE o    <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span>    o.o.<span class=o>=</span> .<span class=o>=</span> o   <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span>  .+.o. <span class=nv>S</span><span class=o>=</span>+.o.   <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span> .<span class=o>=</span>.o . . <span class=o>=</span>o+..  <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span>+o o     o O.  . <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span>*o.o      +.+ .  <span class=p>|</span>
</span></span><span class=line><span class=cl><span class=p>|</span>++.       .oo+   <span class=p>|</span>
</span></span><span class=line><span class=cl>+----<span class=o>[</span>SHA256<span class=o>]</span>-----+
</span></span></code></pre></div><p>以上执行完成之后会在当前目录生成 <code>id_rsa_deploy_key</code>, <code>id_rsa_deploy_key.pub</code>两个文件</p><h4 id=4-将生成的公钥-id_rsa_deploy_keypub-保存至需要部署的waouooogithubio项目中>4. 将生成的公钥: id_rsa_deploy_key.pub 保存至需要部署的waouooo.github.io项目中</h4><p><a href=#0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230208181630-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230208181630.png alt style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230208181630-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230208181630.png alt loading=lazy></a></p><p><a href=#0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230208181946-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230208181946.png alt style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230208181946-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230208181946.png alt loading=lazy></a></p><h4 id=5-使用ssh私钥-id_rsa_deploy_key-在站点元数据仓库中创建secret>5. 使用ssh私钥: id_rsa_deploy_key 在站点元数据仓库中创建secret</h4><p><a href=#0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230208182143-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230208182143.png alt style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230208182143-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230208182143.png alt loading=lazy></a>
<font color=#FF0000>Name建议使用DEPLOY_KEY， 需要下文Github Actions 的Workflow配置文件中使用</font>
<a href=#0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230208182335-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230208182335.png alt style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230208182335-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230208182335.png alt loading=lazy></a></p><h4 id=6-创建github-actions-的工作流workflow>6. 创建Github Actions 的工作流(workflow)</h4><p><a href=#0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230208183033-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230208183033.png alt style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230208183033-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230208183033.png alt loading=lazy></a></p><p>将以下内容填充至配置中:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>GitHub Pages</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>push</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>branches</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>master </span><span class=w> </span><span class=c># Set a branch to deploy</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>deploy</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-22.04</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>concurrency</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>group</span><span class=p>:</span><span class=w> </span><span class=l>${{ github.workflow }}-${{ github.ref }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>submodules</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>  </span><span class=c># Fetch Hugo themes (true OR recursive)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>fetch-depth</span><span class=p>:</span><span class=w> </span><span class=m>0</span><span class=w>    </span><span class=c># Fetch all history for .GitInfo and .Lastmod</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Setup Hugo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>peaceiris/actions-hugo@v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>hugo-version</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;latest&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>extended</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Build</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>hugo --minify</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Deploy</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>peaceiris/actions-gh-pages@v3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>if</span><span class=p>:</span><span class=w> </span><span class=l>${{ github.ref == &#39;refs/heads/master&#39; }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>         </span><span class=nt>deploy_key</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.DEPLOY_KEY }} </span><span class=w> </span><span class=c># 上文保存至本仓库secrets中的ssh秘钥变量名</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>         </span><span class=nt>external_repository</span><span class=p>:</span><span class=w> </span><span class=l>waouooo/waouooo.github.io</span><span class=w> </span><span class=c># 需要将静态文件推送的仓库名</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>         </span><span class=nt>publish_branch</span><span class=p>:</span><span class=w> </span><span class=l>main</span><span class=w> </span><span class=c># 对应目的仓库的目的分支，因为waouooo主分支为main</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>         </span><span class=nt>publish_dir</span><span class=p>:</span><span class=w> </span><span class=l>./public</span><span class=w> </span><span class=c># 推送的文件夹，hugo --minify命令会将静态文件生成至./public文件夹中</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>         </span><span class=nt>commit_message</span><span class=p>:</span><span class=w> </span><span class=l>${{ github.event.head_commit.message }}</span><span class=w> </span><span class=c># 指定commit信息</span><span class=w>
</span></span></span></code></pre></div><p><a href=#0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230208183603-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230208183603.png alt style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230208183603-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230208183603.png alt loading=lazy></a></p><p>完成后点击start commit完成配置
<a href=#0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230208183640-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230208183640.png alt style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=0-https--raw-githubusercontent-com-zhou-yi-git-picture-bed-master-images-202301-20230208183640-png><img src=https://raw.githubusercontent.com/zhou-yi-git/picture-bed/master/images/202301/20230208183640.png alt loading=lazy></a></p><blockquote><p>注意：此时仓库中提交了一个.github/workflows/main.yml的新文件，需要使用git pull 同步至本仓库先，方式下次推送时发生冲突</p></blockquote><h3 id=总结>总结</h3><p>至此自动化推送已经实现，之后只需要添加文章之后将其推送到远端仓库即可自动触发Github Actions执行自动编译并推送至站点仓库waouooo.github.io中</p><h3 id=参考链接>参考链接</h3><p><a href=https://github.com/marketplace/actions/hugo-setup target=_blank>Hugo setup</a></p><p><a href=https://github.com/peaceiris/actions-gh-pages target=_blank>actions-gh-pages</a></p><footer class=footline><div><style>#comment{padding:8rem 0 2rem}#comment .vemoji{max-width:1.5em;max-height:1.5em}</style><div id=comment><script src=https://giscus.app/client.js data-repo=waouooo/discussions data-repo-id=R_kgDOI-EgHQ data-category=General data-category-id=DIC_kwDOI-EgHc4CUORS data-mapping=pathname data-strict=1 data-reactions-enabled=1 data-emit-metadata=1 data-input-position=top data-theme=preferred_color_scheme data-lang=zh-CN data-loading=lazy crossorigin=anonymous async></script></div><noscript>Please enable JavaScript to view the comments powered by giscus.</noscript></div></footer></article></section></div></main></div><script src=../js/clipboard.min.js?1678961847 defer></script>
<script src=../js/perfect-scrollbar.min.js?1678961847 defer></script>
<script src=../js/featherlight.min.js?1678961847 defer></script>
<script src=../js/theme.js?1678961847 defer></script></body></html>